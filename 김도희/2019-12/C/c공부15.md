
전역변수와 지역변수는 크게 두가지로 나뉜다. 

 

 

메모리상에 존재하는 기간

변수에 접근할 수 있는 범위

 

 

지역변수에서 말하는 지역이란 중괄호에 의해 형성되는 영역을 뜻한다. ( 중괄호 내에 선언한 변수는 모두 지역 변수임 )

 

- 지역변수는 지역내에서만 유용하다는 특성이 있다.

 

- 지역변수는 스택이라는 메모리 영역에 할당되며 반복문이나 조건문에도 선언이 가능하다

 

 

매개변수 또한 지역변수의 일종이다. 따라서 다음과 같은 특징을 지닌다.

 

선언한 함수 내에서만 접근이 가능하다.

선언된 함수가 반환을 하면 지역변수와 마찬가지로 소멸이 된다.

 

 

 

 

 

전역변수란 어디서든 접근이 가능한 변수로써 지역변수와 달리 중괄호 내에 선언되지 않는다.

 

 

전역변수의 특징

 

- 프로그램의 시작과 동시에 메모리 공간에 할당되어 종료시까지 존재한다.

- 별도의 값으로 초기화하지 않으면 0으로 초기화 된다.

- 프로그램 전체 영역 어디서든 접근이 가능하다.

 

 

지역변수와 전역변수를 동일한 이름으로 선언한다면?

실행결과로는 동일한 이름의 지역변수가 해당영역 내애서 전역변수를 가린다 가 나온다.

 

 

 

전역변수의 선언은 가급적으로 제한하는 것이 좋다. ( 프로그램을 복잡하게 해주는 주범이다. )

 

 

 

 

static 변수 
 

함수 내에 선언된 지역변수에  static 선언이 붙으면 다음 특성을 지닌다.

 

1. 선언된 함수 내에서만 접근이 가능하다. ( 원래 지역변수 특성 )

2. 딱 1회 초기화되고 프로그램 종료 시 메모리 공간에 존재한다. (전역 변수 특성 )

 

 

 

resister 변수
 

지역 변수에서는 다음과 같이 resister이란 선언을 추가할 수 있다.

 

 

int add(void)

{

      resister int num = 3;

}

 

 

위와 같은 선언이 되면 변수 num은 cpu에 존재하는 '레지스터' 라는 메모리 공간에 저장될 확률이 높아진다.

( 자신이 빈번하게 이용하는 변수를 가장 빠른 레지스터에게 저장하는 것이 성능에 도움이 될것이라는 의미를 담음 )

 

 

전역변수에는 resister 선언을 추가할 수 없다. (  한 변수가 차지하기에 레지스터가 너무나도 중요하고 비싸기 때문 )

 

 

 

문제9-2

 

1. 아래 코드에서는 함수 AddToTotal에서의 사용을 목적으로 전역변수 total을 선언했는데 이를  static으로 대처하시오.

 

#include 
int total = 0; 


int AddTotal(int num)
{
total += num;
return total;
}

int main(void
)
{
int num , i;
for(i=0;i<3;i++)
{
printf("입력%d : ", i+1);
scanf("%d ", &num);
printf("누적 : %d \n",  AddTotal(num));
}

return 0;
}

 

#include <stdio.h>

int AddTotal(int num)
{
	static int total = 0;
	total += num;
	return total;
}

int main(void
)
{
	int num , i;
	for(i=0;i<3;i++)
	{
		printf("입력%d : ", i+1);
		scanf("%d ", &num);
		printf("누적 : %d \n",  AddTotal(num));	
	}	
	
	return 0;
}