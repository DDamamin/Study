## Maven

- 평소에 Maven은 빌드 도구라는 것만을 알고 내가 코딩을 하는데 도움을 주는 구나! 라는 것만 알고 있었다.
- 하지만 Maven의 정확한 이해가 앞으로 내가 코딩을 함에 있어서 도움이 될 것이라고 생각하여 Maven에 대해서 알아보게 되었다.



- 일단 우리가 프로젝트를 빌드를 하는 과정을 살펴보자.

  ```java
  프로젝트 생성 -> 라이브러리 설정 -> 코드 작업(코딩) -> 컴파일, 테스트, 패키지 만들기, 배포, 레포팅
  ```

- 위와 같이 우리는 프로젝트를 빌드를 하는 "빌드 과정"을 가지게 된다.
- 그리고 Maven은 이러한 빌드 과정을 사용자로 하여금 쉽게 할 수 있도록 도와주는 "빌드 도구"이 다.
- 그럼 이제 헷갈리는 부분이 생긴다.
- 빌드 도구라는 것은 영어로 Build Tool 이라고 한다. 그리고 흔히 우리는 Build Tool의 종류로 Eclips, IntelliJ, NotePad++, VSC, VS 2019과 같은 것을 뽑는다.
- 하지만 Eclips와 같은 것들은 Build Tool이 아니라 IDE라는 것이다.
- 형상관리(버전관리), 디버거, 컴파일러, 탐색기, 편집기, 콘솔, 툴, "빌드도구" 등등을 모아서 통합적으로 개발을 할 수 있도록 도와주는 것이 통합 개발 환경 (IDE) 라는 것이다. 따라서 빌드도구가 IDE 안에 존재한다고 할 수 있고 Maven과 같은 빌드도구는 IDE안에 존재하므로 하나의 IDE에 종속된 것이 아니라는 것을 알 수 있다.
- 그럼 IDE에서 프로젝트 생성이라는 기능을 사용할 수 있는데 그러면 이 프로젝트 생성이라는 기능은 IDE에는 없지만 Maven이라는 빌드 도구를 이용해서 가능한 것일까?
- 이것의 대답은 YES 일 수도 있고 NO 일 수도 있다.



- 위에 대해서 알아보기 위해 Maven의 설치 방법도 알아놓을 필요가 있다.
- 어쨌든 Maven을 사용하려면 Download를 해야하니까...
- 일단 Maven을 설치하기 위해서 maven.apache.org 라는 사이트에 접속하고
- Use의 Download 버튼을 클릭한다.
- 그리고 밑으로 내려가서 File의 Binary zip archive 를 다운로드 받는다.
- 이때 자주 다운로드 받는 파일로 내려가서 zip 파일을 푸는 것이 좋다.
- 그리고 이 Maven을 사용하기 위해서 JDK와 같이 Path를 설정해주어야 우리가 일일이 그쪽에 접속하지 않아도 되기 때문에 시슽템의 환경변수를 설정해주어야 한다.
- 환경변수를 설정하기 위해서는 제어판 -> 시스템 및 보안 -> 시스템에 들어가서 왼쪽의 고급 시스템 설정을 눌러서 환경변수를 누르면 환경변수를 설정할 수 있는 창이 뜨게 된다.
- 그러면 user에 대한 사용자 변수와 시스템 변수가 각각 존재하는데 아래에 존재하는 시스템 변수를 설정해야 한다.
- 이때 새로 만들기르 눌러서 M2_HOME 이라는 환경변수 이름을 설정하고 디렉토리는 maven을 zip을 통해 풀고 bin 파일이 보이는 곳의 디렉토리 주소를 뽑아서 넣으면 된다.
- 이게 끝이 아니라 편집에 들어가서 한 번 더 같은 짓을 해주면 정확하게 환경변수를 지정할 수 있다.
- 하지만 이때 이름을 M2_HOME이라고 하는 것이 아니라 %M2_HOME%\bin 이라고 설정해주어야 M2_HOME과 관련된 것들을 모두 설정할 수 있게 되므로 이렇게 이름을 지어야 한다.
- 이렇게 하면 Maven을 설치하고 환경변수로 설정하게 된다.



- 이제는 Maven을 통하여 자바 프로젝트를 생성해볼 것이다.

- 일반적으로 자바 프로젝트를 생성하기 위해서는 이클립스를 키고 프로젝트 생성을 하면 된다.

- 하지만 Maven을 이용해서 프로젝트 생성을 하는 것은 일반적인 방법과는 조금 다르다.

- 아래의 명령을 잘 보자.

  ```java
  mvn archetype:generate -DgroupId=com.newlecture -DartifactId=javaprj -DarchetypeArtifactId=maven-archetype-quickstart
  ```

- 여기서 Maven을 이용해서 프로젝트를 생성하는 것과 이클립스 안에서 일반적으로 프로젝트를 생성하는 것의차이를 알 수 있다.
- 이클립스에서 프로젝트를 생성하면 기본적인 일반 구조를 띄는 프로젝트를 생성하게 된다.
- 하지만 Maven은 저기 archetypeArtifactId 라는 것은 maven-archetype-quickstart 라는 프로젝트 구조를 기본으로 사용하여 프로젝트를 생성하겠다는 것이다.
- 따라서 내가 자주 사용하는 프로젝트 형식이 있어서 그것을 만들고 여기서 알맞게 이름을 적으면 그 자주 사용하는 프로젝트 형식이 기본인 프로젝트를 생성할 수 있게 된다.
- 두 번째로 artifactId는 자바 프로젝트의 이름을 뭐라고 설정할 것인가를 묻는 것이다.
- 따라서 이것을 바꾸면 자바 프로젝트의 이름을 설정할 수 있게 된다.
- 세 번째로, groupId는 예상 하였듯이 패키지 이름을 설정할 수 있다.
- 자바의 패키지 이름은 .으로 구분하여 거꾸로 하는 것이 원칙이다. (사실은 세 번이 정상이다.)
- com.newlecture 라는 패키지를 구성해놓는다는 것을 알 수 있다.
- 따라서 이 모든 것들을 준수하여 명령문을 구성하고 프로젝트를 생성할 폴더에 cmd로 들어가서 명령을 입력하면 정상적으로 프로젝트를 생성하는 것이 가능하다.





- 빌드 도구는 IDE의 안의 개념이다. 따라서 IDE없이도 독자적으로 컴파일이 가능하다는 것을 알 수 있다.
- 따라서 빌드 도구 즉, Maven을 이용하여 컴파일을 하고 실행을 해보자.
- 컴파일을 하기 위해서 간단하게 아까 들어갔던 위치(프로젝트를 생성하고 그 프로젝트 안에 들어가서)에서 mvn compile을 하면 원래 src라는 소스파일 밖에 없었는데 target 이라는 폴더가 생기고 그 안에 class 파일이 생긴다.
- 그 뒤에 java -cp target\javaprj-1.0-SNAPSHOT.jar com.newlecture.App 을 cmd에 치게 되면 Hello World! 라는 것이 뜨게 된다.