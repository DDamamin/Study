## Declaration of Array

- 이번엔 맨날 하던 배열의 선언에 대해서 알아보았다.
- **갑자기 왜 이런 것을 올리나 싶지만 이상한 짓은 아니니 끝까지 보길 바란다.**



- 우리가 일반적으로 배열을 선언할때 어떻게 선언하는가를 살펴보면 아래와 같다.

  ```java
  int[] array = new int[3];
  ```

- 대부분 위와 같이 선언할 것이다.

- 그리고 아래와 같이 선언할 수 있다는 것도 알 것이다.

  ```java
  int[] array = { 1, 2, 3 };
  ```

- 두 배열 모두 array.length를 통해 찍어보면 3이라는 길이를 알아낼 수 있다.

- 그렇다면 이차원배열은 어떻게 선언하는가?

  ```java
  int[][] array = new int[3][4];
  ```

  ```java
  int[][] array = {
      { 1, 2, 3, 4 },
      { 1, 2, 3, 4 },
      { 1, 2, 3, 4 }
  };
  ```

- 위와 같이 선언하고 초기화할 것이다.

- 여기까지는 모르는 사람이 없을 것이다.

- 그런데 만약 이차원 배열 선언시 두 번째와 같은 방법으로 선언했을 때 배열의 요소들의 합을 구하거나 평균을 구하려면 어떻게 해야할까?

- 아마 대부분의 사람들은 아래와 같은 코드를 떠올릴 것이다.

  ```java
  int[][] array = {
      { 1, 2, 3, 4 },
      { 1, 2, 3, 4 },
      { 1, 2, 3, 4 }
  };
  int sum = 0;
  double avg = 0.0;
  
  for(int i = 0 ; i < array.length ; i++)
      for(int j = 0 ; j < array[i].length ; j++)
          sum += array[i][j];
  avg = (double)sum/(array.length * array[0].length);
  
  System.out.println("sum is " + sum);
  System.out.println("avg is " + avg);
  
  // 30
  // 2.5
  ```

- 물론 이 코드가 틀리다는 것은 아니다.

- 하지만 아래와 같은 배열이 주어지고 모든 요소의 합과 평균을 구하라고 하면 어떻게 해야할까?

  ```java
  int[][] array = {
      {1},
      {1, 2},
      {1, 2, 3}
  };
  ```

- 당연히 풀려고 하면 쉽게 풀 수 있다.
- 배열의 요소 갯수를 측정해줄 count 변수를 하나 선언한다면...
- 하지만 이것 하나때문에 count 변수를 선언해야 한다면 많은 배열을 활용하는 java 코드 시점에서 어리석은 짓이라고 생각한다.
- 따라서 이렇게 java 코드가 주어졌을때 count 변수를 사용하지 않고 코드를 짜보려고 했으나 실패했다.
- 혹시 내가 모르는 함수가 존재할지는 모르겠지만 일단은 모르겠다.
- java 배열은 c언어의 포인터를 이용한 이차원 배열과 같기 때문에 각각의 배열의 요소가 다른 길이의 배열을 가질 수 있다.
- 따라서 이러한 문제가 생기는 것 같다.
- 따라서 이러한 배열을 사용하지 않는 것이 올바르다고 생각한다.





- 이건 예외의 이야기이지만 얘기해둔다.

- 자바에서는 C언어와는 다르게 길이가 0인 배열을 선언할 수 있다.

  ```java
  int[] array = {};
  ```

- 생각보다 쉽게 생각할 수 있긴 했었다.
- 이 길이가 0인 배열은 처음 main의 매개변수인 String[] age에서도 사용된다는 것을 알 수 있다.
- 그리고 array.length 를 찍어보면 0이 나오는데 사실 0은 컴퓨터 형식상 불가능할 거 같아서 1이 나올 줄 알았는데 아니었다....