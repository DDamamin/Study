## System.arraycopy()

- 이번에는 arraycopy() 라는 함수에 대해서 알아볼 것이다.

- 코딩을 하다보면 배열을 복사해야하는 일이 생각보다 많다.

- 일반적으로 배열을 많이 쓰기 때문이라고도 할 수 있지만 배열을 복사하는데 큰힘이 필요 없고 같은 배열을 다르게 써야하는 일이 많기 때문이다.

- 체스 프로젝트를 한다거나 그냥 코딩을 할때 배열을 복사하기 위해서 for문으로 모든 배열의 요소를 옮겼던 기억이 있다.

- 하지만 java에는 System.arraycopy() 라는 함수가 존재하기 때문에 for문 보다 쉽게 배열의 값을 옮길 수 있다.

- 아래의 예제를 보면서 쉽게 이해해보자.

  ```java
  int[] array1 = { 1, 2, 3 };
  int[] array2 = new int[5];
  
  for(int i = 0 ; i < array1.length ; i++)
      array2[i] = array[i];
  
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      
  int[] array1 = { 1, 2, 3 };
  int[] array2 = new int[5];
  
  System.arraycopy(array1, 0, array2, 0, 3);
  ```

- java를 많이 해보신 분들이라면 위의 코드가 생각보다 쉽게 다가왔을 것이다.
- 왜냐하면 정말 간단하기 때문이다.
- 위쪽 코드는 arraycopy() 함수를 사용하지 않고 for문을 이용해서 배열을 복사하는 방식이고 아래쪽 코드는 arraycopy() 함수를 이용해서 쉽게 배열을 복사하는 코드이다.
- 위쪽 코드는 아마 다들 알 것이기 때문에 패스하고 아래쪽 코드를 보자.
- 아래쪽 코드를 보면 System.arraycopy() 함수가 System에서 지원하는 함수인 것으로 보아 다른 import가 필요없다.
- 무려 매개변수가 5개나 있는 것을 알 수 있는데 이제 차근차근 알아보자.
  - 첫 번째, 복사할 요소가 들어있는 배열
  - 두 번째, 복사할 요소가 들어있는 배열의 복사할 요소의 인덱스 번호
  - 세 번째, 복사할 요소를 저장할 배열
  - 세 번째, 복사할 요소를 저장할 배열의 첫 번째 저장 위치
  - 네 번째, 복사할 요소의 길이

- 이쯤이면 모두가 이해했을 것이다.



#### 기타

- 의외로 배열을 사용하면서 잘 모르는 것이 있어서 적어본다.



##### 자료형이 배열일때... 미리 크기를 선언....

- int[] array = new int[3]; 이라고 array 라는 배열을 선언하는 것은 가능하지만 int[3] array = new int[3] 이라고 미리 배열의 크기를 정해놓는 것은 안 된다.
- 따라서 int[3] array; 이나 int[3] array = null; 과 같이 미리 할당해놓는 것이 안 되며 c와 다르게 java에서 []를 변수 뒤가 아니라 자료형 뒤에 놓은 것은 앞만 보고도 무슨 자료형의 형태인지 알으라고 해 놓은 것이다.



##### new 키워드를 사용하면 배열이 자동으로 초기화...

- C언어에서는 배열을 선언하고 초기화를 {0,} 또는 {0}을 통해 한다.

- 하지만 이 초기화를 C언어에서는 memset이라는 함수를 이용해서 할 수 있는데 java에서는 이러한 함수가 없을 뿐더러 new 키워드를 이용해서 배열을 선언하게 되면 자동으로 0으로 초기화가 되는 것을 볼 수 있다.

- 따라서 아래의 코드와 그 코드에 대한 결과는 아래와 같다.

  ```java
  int[] array = new int[3];
  
  for(int i : array)
      System.out.println(i);
  ```

  ```java
  0
  0
  0
  ```

  

