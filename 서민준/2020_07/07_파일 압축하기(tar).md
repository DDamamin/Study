## tar (Tape ARchive) + zip

### 압축

여러 개의 명령 파일이 있고, 여러 개의 명령 파일을 외부로 보내고 싶다고 할때 하나로 묶어서 보내주는 것이 효율적이다.

이런 식으로 여러 파일을 하나로 묶는 것을 tar라고 한다. 단, 이때는 단순히 여러 개를 하나로 묶는 과정이기 때문에 사이즈가 줄지 않는다.

그래서 일반적으로 tar로 만든 다음에 사이즈를 줄이는 압축을 한 뒤에 외부로 보내는 것이 정석이다.

#### 압축 명령어

`tar -cf name.tar a b c`

다음 명령어를 한 줄로 요약하면 a, b, c의 파일을 `name`이라는 이름으로 tar 파일로 묶는 명령이다.

상세하게 설명하면 다음과 같다.

- `c` 옵션 : 여러 파일을 tar로 묶는 옵션이다. 기본적으로 압축을 하기 위해서는 이 옵션은 필수적이다.

- `f` 옵션 : 파일 이름을 지정할 때 사용하는 옵션이다.

![tar](https://user-images.githubusercontent.com/51042546/86782481-1222f980-c09a-11ea-984b-0872aa0349cc.png)

다음과 같이 파일을 묶을 때 특정한 패턴을 사용하여 조금 더 간편하게 tar를 만들 수 있다.

- 일단 현재 디렉터리에 있는 모든 파일을 tar로 묶고 싶다면 `*`을 사용하면 된다.
- 만약 확장자가 필요하다면 파일 이름 뒤에 `.`을 쓰고 확장자를 지정하면 된다. (ex: `*.java`)
- 특정 글자로 시작하는 모든 파일을 하고 싶다면 `글자*` 형식을 쓰면 된다. (ex: `H*`)

`tar -zcf name.tar.gz a b c`

다음 명령어는 tar로 묶인 파일을 gzip으로 압축하는 명령어이다. gzip으로 할 때 확장자는 .gz가 붙는다.

- `z` 옵션 : gzip으로 압축할 때 사용하는 옵션이다.

![tar -zcf](https://user-images.githubusercontent.com/51042546/86782812-7f368f00-c09a-11ea-9bd8-40bdaad6a7a4.png)

압축할 때 파일 확장자를 .tar.gz로 할 필요는 없지만 단순히 ls를 통해 보기만 해도 이게 gzip이라는 것을 알 수 있도록 다음과 같이 확장자를 지정하는 것이 좋다.

#### 압축 해제 명령어

`tar -xvf name.tar`

tar로 묶여저 있는 각 파일들을 모두 푸는 명령어이다.

- `x` 옵션 : tar 압축을 풀 때 사용하는 옵션이다.
- `v` 옵션 : 압축을 풀 때 압축을 푸는 과정을 자세히 출력해주는 옵션이다.

`tar -zxvf name.tar.gz`

gzip으로 묶여 있는 파일의 압축을 풀어주는 명령이다. 뒤에 `x` 옵션이 있기 때문에 압축이 해제된 다음에 자동으로 해제된다.

- `z` 옵션 : gzip으로 압축할 때도 사용하지만 해제할 때도 사용한다.

![tar -zxvf](https://user-images.githubusercontent.com/51042546/86783211-f704b980-c09a-11ea-82d2-c2bf2887e53c.png)

다음과 같이 압축을 해제할 때 `v` 옵션이 있으면 해당 압축 파일을 풀면서 생성되는 파일 목록을 모두 보여준다.