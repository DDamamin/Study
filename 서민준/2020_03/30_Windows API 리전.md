# 윈도우 리전
  
**출처**  
「Windows API 정복 1권」 - 김상형 저  
  
Windows 95 이후에 직사각형이 아닌 모양의 윈도우를 만들 수 있게 되었다. 불규칙한 모양의 윈도우를 만들 때 **리전(Region)**을 사용한다.  
  
    int SetWindowRgn(HWND hWnd, HRGN hRgn, BOOL bRedraw);
  
리전 생성 함수로 리전을 만든 후 이 함수로 hRgn을 윈도우 리전으로 설정한다. 윈도우 리전은 그리기와 마우스 입력이 허가되는 윈도우 영역이며 바깥으로는 어떠한 그리기도 허가되지 않는다.  
  
윈도우 리전에서 사용하는 좌표는 작업영역 좌표가 아니라 윈도우 좌표를 사용한다. 그래서 그리기 작업 등을 할 때 좌표 계산에 신경을 써야 한다.  
  
그래서 귀찮은 좌표 계산을 아예 타이틀 바를 가지지 않는 팝업 윈도우를 사용하여 해결하는 것이 보편적이다. 그렇게 하면 윈도우 좌표 = 작업영역 좌표가 되기 때문이다.  
  
이 함수로 설정된 윈도우 리전은 시스템이 소유하므로 **일단 한 번 윈도우 리전으로 설정되면 다른 리전 변경 함수로 건드리지 말아야 한다.** 리전을 파괴하는 것도 시스템이 알아서 하기 때문이다.  
  
비트맵 등 특정 모양을 윈도우 모양으로 하고 싶다면 공개된 유틸리티 중 비트맵을 리전으로 변환하는 툴을 사용해 쉽게 모양을 만들 수 있다. (이것이 없었다면 우리는 직접 좌표를 수작업으로 따야 한다. 공개해주신 분도, 만들어주신 분도 감사드립니다.)  
  
다만, 리전이 복잡해질수록 시스템의 처리 속도가 떨어져 화면이 깜박이거나 출력이 다소 늦어진다는 단점이 존재한다.