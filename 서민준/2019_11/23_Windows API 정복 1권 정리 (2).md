# Windows API 정복 1 정리 2편

## API

Application Programming Interface의 약자이며 우리말로 풀어본다면 "운영체제가 응용 프로그램을 위해 제공하는 함수의 집합"이라고 정의할 수 있다.  
  
운영체제는 하드웨어와 응용 프로그램 사이에 위치하며 응용 프로그램을 대신하여 하드웨어와 응용 프로그램 사이에 위치하며 응용 프로그램을 대신하여 하드웨어와 메모리를 관리하는 시스템 소프트웨어이다.  
특정 운영체제에서 실행되는 응용 프로그램은 운영체제에 종속적일 수밖에 없으며 운영체제가 규정한 바대로 하드웨어를 엑세스해야 한다.  
또한 Windows와 같은 멀티 태스킹 운영체제의 경우 응용 프로그램간 상호작용을 할 때도 운영체제의 규정을 따라야만 한다.  
  
그러나 현실적으로 응용 프로그램 개발자들이 이러한 운영체제의 복잡한 내부 동작까지 속속들이 이해하고 있을 수는 없다.  
그래서 운영체제는 가장 기본적인 동작을 하는 함수의 집합을 응용 프로그램에게 제공할 의무를 지며 응용 프로그램 개발자들은 운영체제가 제공하는 함수들을 사용할 권리와 의무를 가진다.  
운영체제의 기본적인 역할 중 하나가 응용 프로그램들의 공통적인 요구를 처리하는 함수 집합을 제공하는 것이다.  
  
Windows도 마찬가지로 응용 프로그램을 위한 함수 집합을 제공하는데 이를 API라고 하며 좀 더 정확하게 표현하면 "Windows API"라고 한다.  
API는 특정 시스템(운영체제든 하드웨어든)을 프로그래밍 하기 위한 함수 집합을 이르는 일반 명사이며 그 중의 하나가 Windows API이나 요즘은 일반적으로 API라고 하면 Windows API를 말하는 경우가 많다.  
API는 운영체제의 중요한 한 부분이며 운영체제 그 자체라고도 할 수 있다.  
  
대부분의 개발자들은 하드 디스크가 파일을 저장하는 장치라는 것은 알고 있지만 하드 디스크의 물리적인 구조나 내부적인 동작 방식에 대해서는 잘 모른다.  
설사 알고 있다 하더라도 일일이 제어 명령을 보내 하드 디스크를 엑세스하는 것은 번거롭고 비효율적이다.  
그래서 운영체제는 하드 디스크를 엑세스하는 ReadFile, WriteFile이라는 API 함수를 제공하며 우리는 이 함수들을 통해 파일을 논리적으로 쉽게 엑세스할 수 있다.  
  
API도 윈도우즈 버전에 따라 여러 가지 종류가 있다.  
16비트 운영체제인 Windows 3.1에서 제공하는 API를 Win16 API라고 하는데 이름 그대로 16비트 Windows를 위한 API이다.  
Win 32 API란 본격적인 32비트 운영체제인 Windows 95/98과 NT에서 제공하는 32비트 Windows를 위한 API이다.  
Win 16에 비해 Win 32가 양적으로나 질적으로나 확장되었음은 더 말할 나위도 없다.  
Win16과 Win32 사이에 Win32s, Win32c 등의 임시적인 API가 있었으나 지금은 더 이상 사용하지 않으므로 관심을 둘 필요가 없다.  
  
Win32 API도 Windows 버전에 따라 조금씩 다르다.  
즉 Win95보다는 Win98의 API가 조금 더 확장되었을 것이며 현재 완벽한 Win32 API는 Windows XP가 제공하는 것이라 할 수 있다.  
64비트 Windows에서는 64비트의 API(이름을 붙이자면 Win64)가 제공되는데 Win32와 거의 변화가 없으므로 Win32에서 습득한 지식과 경험은 여전히 유효하다.  
이식성 확보를 위해 약간의 주의만 기울이면 32비트 프로그램을 64비트로 어렵지 않게 이식할 수 있다.  
쉽게 말해 Win32만 잘하면 Win64는 거저 먹기다.  
  
API와 비슷한 마로 SDK(Software Development Kit)라는 표현이 사용되기도 한다.  
SDK는 원래 API를 사용하여 프로그램을 개발하는 개발툴 킷이었으나 지금은 의미가 전용되어 API와 거의 같은 뜻으로 쓰인다.  
즉 API 함수는 곧 SDK 함수와 같은 뜻이며 "이 프로그램은 SDK로 만들었습니다"라고 하는 것은 순수한 API만을 사용하여 만든 프로그램이라는 뜻이다.  
  
API는 운영체제와 응용 프로그램간의 약속이다.  
최소한의 의사 표현만 하면 모든 것을 내부적으로 처리하도록 되어 있으므로 약속의 내용을 익히기만 하면 된다.  
양이 많을 뿐 어렵거나 복잡하지는 않다.  
SQL, 보안, 멀티 태스킹, 동기화, 서비스 등등 기능이 늘어남에 따라 API도 확장될 수밖에 없으며 앞으로도 계속 늘어날 것이다.  
  
그래서 API를 공부할 때는 핵심 사항부터 먼저 공부해야 하는데 Window, DC, 메시지, 컨트롤, 리소스 등등이 Windows API의 핵심이다.  
나머지 함수나 메시지, 구조체 등은 모조리 다 외울 수 없으므로 필요할 때 레퍼런스를 잘 활용해야 한다.

## 여러 가지 개발 방법

### SDK

SDK(Software Development Kit)란 Windows를 만든 마이크로소프트사에서 제공하는 Windows용 프로그램 개발 킷이다.  
운영체제가 제공하는 함수(API 함수)들을 사용하여 프로그램을 작성하며 가장 원론적이고 가장 먼저 발표된 개발 방법이다.  
운영체제가 직접 제공하는 함수를 사용하므로 섬세한 처리를 할 수 있으며 아주 막강한 기능의 프로그램을 작성할 수 있을 뿐만 아니라 프로그램의 속도나 크기에도 아주 유리하다.  
  
그러나 이 방법을 사용하려면 방대한 양의 API 함수에 대해 알아야 함은 물론 Windows의 내부적인 동작에 대한 것까지도 상세하게 연구해야 한다.  
뿐만 아니라 작성해야 할 코드의 양이 많아 개발기간이 길며 생산성도 낮다.  
똑같은 프로그램을 작성하기 위해 더 많은 코드가 필요하다는 뜻이다.  
그래서 요즘은 SDK를 사용하는 원시적인 개발 방법은 많이 사용되지 않는다.  
성능이 지극히 중요하다거나 운영체제와 직접 통신해야 하는 저수준의 프로그램, 또는 아주 소규모의 프로젝트일 때 가끔 사용된다.  
  
현재 발표된 대부분의 Windows 개발툴이 SDK를 지원하고 있다.  
프로그램 개발툴뿐만 아니라 오소웨어나 툴북 등의 CD-ROM 타이틀 제작 프로그램, 인스톨 쉴드 등의 스크립트에서도 SDK 함수는 직접 호출 가능하다.

### 클래스 라이브러리

복잡하고 양이 많은 API 함수들을 좀 더 쉽고 빠르게 사용하기 위해 클래스로 잘 포장하여 객체위주로 프로그램을 작성하는 방법이다.  
Windows 프로그래밍에 필요한 클래스들을 미리 작성해 놓고 객체를 조립하여 프로그램을 만들어 나간다.  
클래스가 워낙 잘 설계되어 있기 때문에 사용하기 무척 쉬울 뿐만 아니라 기능 또한 아주 막강하다. Windows용 클래스 라이브러리에는 마이크로소프트사의 MFC와 볼랜드사의 OWL이 대표적이다.  
MFC는 비주얼 C++에 포함되어 있으며 OWL은 볼랜드 C++에 포함되어 있다. 현재는 MFC를 더 많이 사용하며 OWL은 거의 사용되지 않는다.  
  
생산성이 높고 성능도 좋아 현실적으로 가장 많이 사용하는 개발 방법이다.  
그러나 클래스 라이브러리는 사용하기만 쉬울 뿐이지 배우기는 아주 어렵다.  
클래스 라이브러리의 문법적 기반인 OOP에 대해 상세한 부분까지 알고 있어야 겨우 클래스 구조를 이해할 수 있으며 응용까지 하려면 OOP에 대해서는 거의 박사가 되어야 한다.  
게다가 클래스 라이브러리는 API 함수를 기반으로 하기 때문에 API에 대한 기본적인 개념이 꼭 필요하다.  
클래스 라이브러리를 이용한 개발 방법은 이래저래 초보자용은 절대로 아니며 전문 개발자용이다.  
  
### 비주얼 툴

