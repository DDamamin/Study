# C언어 fscanf 함수 레퍼런스 정리

**출처**  
모두의 코드 \ C Reference \ stdio.h \ fscanf  
URL : https://modoocode.com/65  
  
## fscanf
  
    #include <stdio.h>

    int fscanf(FILE* stream, const char* format, ...);

스트림에서 데이터를 특정한 형식으로 읽어온다.  
  
스트림에서 형식 문자열에서 지정한 방식대로 데이터를 읽어온 후, 형식 문자열의 각각의 형식 지정자에 대응하는 인자가 가리키는 메모리 공간에 그 데이터를 집어 넣는다.  
  
## 인자
  
- stream  
  
    - 데이터를 읽어올 스트림의 FILE 객체를 가리키는 포인터
  
- format  
  
    - C 형식 문자열로 다음의 것들을 포함하고 있다.  
      
        - 공백 문자(Whitespace character) : 개행 문자(\n), 탭 문자, 띄어쓰기(' ')를 말한다. fscanf 함수는 **비-공백 문자를 읽어들이기 전까지 읽혀지는 모든 공백 문자들을 무시**한다.  
          
        - 비-공백 문자 (단, %를 제외한다.) : 공백 문자가 아니거나 형식 지정자에 포함되지 않는 것들은 함수로 하여금 다음 문자를 스트림에서 읽어 들이고 이와 이 비-공백 문자와 비교하여 같다면 버리고 다음 문자와 형식으로 진행한다. 만일 다르다면 함수가 종료되고, 스트림에서 읽혀지지 않은 다른 문자들은 모두 남아있게 된다.  
          
        - 형식 지정자 : %로 지정되는 것들을 말한다. 스트림에서 어떠한 형식으로 데이터를 읽어오고, 또 각각의 형식 지정자에 대응되는 인자에 어떠한 형식으로 저장할 지에 대해 결정한다.  
          
            %[*][폭(width)][한정자(modifieers)]타입(type)
        
        ---
          
        종류 | 설명
        -----|------
        * | 데이터를 stdin에서 받아들이지만 무시된다. 이에 대응되는 인자에는 받아들인 데이터가 저장되지 않고 이 인자는 다음 형식 태그에 대응된다.
          
            fscanf(fp, "%*d%d", &i, &j);
        
        먼저 수를 입력하더라도 %*d 형식이므로 무시 된다. 그 다음 수를 입력하면 %d 형식 태그가 j가 아닌 i에 대응되어 i에 그 다음 입력한 수가 들어가게 된다. 이 때 j에는 아무런 값도 들어가지 않는다.

        ---

        종류 | 설명
        -----|-----
        폭 | stdin에서 읽어들일 최대 문자 수를 지정한다.  
          
            fscanf(fp, "%10s", str);
        
        stdin에서 최대 10 문자를 읽어와 str에 저장한다. 이 때 주의할 점은 str에는 NULL 문자가 들어갈 수 있는 충분한 공간이 남아 있어야 한다.

        ---

        종류 | 설명
        -----|-----
        한정자 | 입력받는 데이터의 크기를 지정한다. int, unsigned int, float 형에 대해 입력받는 데이터의 크기를 설정할 수 있다. h의 경우 short int (d, i, n 의 경우) 혹은 unsigned int (o, u, x 일 경우). l의 경우 long int (d, i, n 의 경우) 혹은 unsigned int (o, u, x 일 경우), 혹은 double (e, f, g 일 경우). 마지막으로 L의 경우 long double (e, f, g 일 경우)에 사용할 수 있다.
        타입 | 데이터를 어떠한 형식으로 혹은 어떠한 값만을 읽어들어야 할 지에 대해 지정한다.
          
        ### fscanf 함수의 타입 지정자들
          
        타입 | 대응되는 입력 방식 | 대응되는 인자의 형태
        -----|-------------------|---------------------
        d | 십진법으로 표현된 정수 | int *
        e, E, f, g, G | 부동 소수점 | float *
        o | 8진법으로 표현된 정수 | int *
        s | 문자열 (공백 문자를 찾을 때까지 문자들을 읽어들인다.) | char *
        u | 부호가 없는 십진법으로 표현된 정수 | unsigned int *
        x, X | 16진법으로 표현된 정수 | int *
          
        ### 부수적 인자
          
        형식 문자열의 정의된 순서대로 각 형식 지정자는 이에 대응하는 인자가 가리키는 메모리 공간에 데이터를 집어넣는다. 이 때, 부수적 인자들은 모두 포인터의 형태 (주소값) 여야 한다.
  
## 리턴값
  
성공할 경우, 읽어들인 데이터의 수를 리턴한다. 만일 어떠한 데이터도 형식 지정자와 일치하는 것이 없다면 0이 될 수도 있다.  
  
만일 어떠한 데이터도 성공적으로 읽어들이기 전에 입력이 실패했다면 EOF가 리턴된다.