**출처**
모두의 코드 / C Reference / stdio.h / fopen  
URL : https://modoocode.com/58  
  
# fopen
  
    #include <stdio.h>

    FILE* fopen(const char* filename, const char* mode);

파일을 여는데 사용하는 함수입니다.  
  
filename 인자에서 지정한 파일을 열고, 이에 해당하는 스트림의 FILE 객체를 가리키는 포인터를 반환합니다. 생성할 때, mode에 따라 입출력 방식이 조금씩 달라집니다.  
  
동시에 최소 FOPEN_MAX개의 파일을 열 수 있게 보장하고 있으며 (이 이상 열 수도 있지만 성공적으로 열 수 있을지에 대해서는 보장하지 않음) 이 값은 실행 환경에 따라 다를 수 있다.  
  
FOPEN_MAX는 <stdio.h>에 정의되어 있는 매크로 상수이다.  
  
## 인자

- filename : 열고 싶은 파일의 이름이다. 이 인자는 각 실행 환경에서 지정하는 파일 이름 형식을 따라야 한다. 만일 시스템에서 경로 설정이 지원된다면 경로도 포함 가능하다.  
  
- mode : 파일 접근 모드를 설정한다. 이 모드의 종류는 다음과 같다.  
  
mode | 설명
-----|------
"r" | 파일을 읽기 형식으로 연다. 이 때, 파일은 반드시 존재해야 한다.
"w" | 파일을 쓰기 형식으로 연다. 동일한 파일이 이미 존재하고 있다면 그 파일의 내용을 지운 후 새롭게 생긴 빈 파일로 간주한다. 파일이 존재하지 않는다면 새로 빈 파일을 만든다.
"a" | 파일을 덧붙이기(append) 형식으로 연다. 쓰기 작업은 파일 끝에 데이터를 덧붙인다. 파일이 존재하지 않는다면 새로 생성한다.
  
그리고 각 요소의 끝에 +를 붙이는 mode의 방식도 존재한다.  
  
mode | 설명
-----|-----
"r+" | "r"의 특징을 그대로 가지나 읽기 및 쓰기 모드로 파일을 연다.
"w+" | "w"의 특징을 그대로 가지나 읽기 및 쓰기 모드로 파일을 연다.
"a+" | "a"의 특징을 그대로 가지나 읽기 및 덧붙이기 모드로 파일을 연다. 쓰기 작업은 파일의 맨 끝에서 진행되지만 읽기 작업은 fseek이나 rewind 함수 등을 이용해 위치를 조정할 수 있다.

해당 파일이 텍스트 파일로 열린다는 것을 명시하기 위해서는 mode의 뒤에 t를 붙이면 된다. (ex : "rt")  
해당 파일을 이진 형식으로 열고 싶다면 mode의 뒤에 b를 붙이면 된다. (ex : "wb")  
  
파일을 텍스트 파일 형식으로 열게 되면, 프로그램이 실행되는 환경에 따라 일부 특수 문자들은 입출력 연산 시 다른 방식으로 해석될 수 있다.  
  
예시로, MacOS 에서는 개행 문자로 CR(캐리지 리턴) 한 문자를 사용한다. 하지만 리눅스와 같은 유닉스 기반 컴퓨터들은 개행 문자로 LF(라인 피드) 한 문자를 사용한다. 그러나 DOS나 Windows, OS/2 계열의 운영체제들은 CR + LF를 사용해서 두 문자로 개행 문자임을 표시한다.  
  
이진 형식으로 파일을 열게 된다면 실행 환경에 상관 없이 언제나 동일하게 해석될 수밖에 없다.  
  
읽기 / 쓰기를 동시에 하는 경우("r+", "w+", "a+"), 한 가지 작업을 끝마친 후에 반드시 스트림을 비우거나(fflush), 위치가 조정(fseed)되어야 한다.  
  
## 리턴 값

파일이 성공적으로 열렸다면 FILE 객체에 대한 포인터를 반환한다. 이 포인터는 나중에 스트림 관련 작업시에 스트림을 구분하기 위해 자주 사용한다.  
  
실패 시, NULL 포인터가 반환된다.  