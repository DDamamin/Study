# 통신 프로토콜

**통신 프로토콜 (통신 규약)** 

* 컴퓨터나 원거리 통신 장비 사이에서 메시지를 주고 받는 양식과 규칙의 체계이다. 
* 신호 체계, 인증, 오류 감지 및 수정을 포함할 수 있다.
* 형식, 의미론, 통신 동기 과정 등을 정의하기는 하지만 구현되는 방법은 독립적이다.



**프로토콜 (protocol)**

인터넷 상에서 컴퓨터 간의 데이터를 주고 받이 위한 약속된 형식



**OSI 7 계층**

컴퓨터 네트워크 프로토콜 디자인과 통신을 계층으로 구분하여 규정

(물리 > 데이터 링크 > 네트워크 > 전송 > 세션 > 프리젠테이션 > 응용 프로그램)



**서버 (server)**

클라이언트에게 네트워크를 통해 정보나 서비스를 제공하는 컴퓨터 또는 프로그램



**클라이언트**

네트워크를 통하여 서버라는 다른 컴퓨터 시스템 상의 원격 서비스에 접속할 수 있는 응용 프로그램 또는 사용자 컴퓨터



**TCP/IP**

* 전송계층
* 운영체제의 일부로 구현되어 있음
* 전송방식
  * TCP (Transmission Control Protocol) 에러 검출, 재전송 등 데이터 신뢰성
  * UDP 빠른 전송
* 포트 번호
  * 접속된 다수의 응용프로그램을 구분하기 위한 번호
* 포트 번호의 범위
  * 0 ~ 65535
    * 예약 번호 
      * 0 ~ 1023
    * 1024 ~ 49151 중 하나 선택
* TCP 구조
  * 서버 대기
  * 클라이언트 요청 (후 서버의 수락)
  * 데이터 전송





### IP (Internet Protocol)

* 인터넷에서 다른 컴퓨터와 통신할 때 사용하는 프로토콜
* 이를 위해 컴퓨터의 논리적인 주소 구분
* 1비트는 0과 1
* 현재 IP는 32베트 체계를 사용한다.
* 10.157.0.1 



#### 웹 사이트에 접속 할 때

웹에 접속할 때도 실제로는 IP 주소를 이용해 통신하는 것이다.

브라우저 => 사이트 주소 입력 => DNS server와 통신 => 주소 확인 => IP 주소 반환



cmd 창에서 `nslookup 주소`를 입력함으로써, IP 주소들을 확인할 수 있다. 



#### IPv4 

흔히 사용하는 IP 주소 체계를 IPv4라고 한다. (version 4)

* 일반적인 의미의 IP
* IPv4의 가장 큰 단점은 오직 32비트만 사용한다는 점.
* 공인 UP 주소 40억개로는 모든 컴퓨터를 처리할 수 없음
* 이를 해결하기 위해 UPv6라는 새로운 주소 체계 등장



#### IP의 분류

공인 IP, 사설 IP, 고정 IP, 유동 IP

* 공인 IP : 세계에서 단 하나만 존재하는 IP 주소
  * 유동 IP나 고정 IP가 될 수 있다. 
* 사설 IP : 공유기를 이용해 만들 수 있는 가상의 IP 주소
  * 유동 IP나 고정 IP가 될 수 있다. 
* 고정 IP : 해당 컴퓨터의 IP 주소를 고정적으로 사용
* 유동 IP : 수시로 변화하는 IP 주소



#### 사설 IP의 등장 

공유기로 연결된 내부망에 적용되는 IP 주소



#### 공인 IP가 필요할 때

* 한 사이트의 IP가 주기적으로 변경되는 유동 사설 IP라 하자.
* 이 경우 이전에 접속하던 IP 주소로 접속하려고 하면 오류가 발생한다.
* 따라서 서버 역할을 하는 컴퓨터는 반드시 고유 주소가 필요하다.
* 유동 IP라면 서버 구추기 불가능할까?
* DDNS (Dynamic DNS)



#### DDNS의 원리

한 사이트의 IP가 있다.

이 사이트의 IP가 변경되었을 때, DDNS 서버에 바뀐 IP를 알려준다.

사용자가 이 사이트의 주소로 접근을 시도하면, DDNS는 바뀐 IP를 알려준다.



#### 인터넷을 설치하는 법

ISP (예시 : KT, SK )에서 유동 IP를  부여한다.



#### 유동 아이피의 변경 방식



#### 사설 IP의 단점

외부에서 내 컴퓨터를 찾을 수 없다.

- 사설 IP는 전 세계에서 하나만 존재하는 공인 IP가 아니다.
  - 따라서 	사설 IP는 내부에서만 의미가 있고 위부에서는 해당 IP로 접속이 불가능하다.



ㄹ