# 관계형 데이터 모델링

### 절차

- 업무파악
- 개념적 데이터 모델링 (er 다이어 그램)
- 논리적 데이터 모델링 (표로 전환)
- 물리적 데이터 모델링 (실제 코드)

 

### 개념적 데이터 모델링

- 정보 (전화번호, 아이디, 글 제목 등)
- 그룹 : 정보의 집합 (유저, 글, 댓글 등)
- 관계 : 정보간, 그룹 간의 관계 (유저는 글을 작성한다 등)

#### ERD 구성요소

그룹을 Entity라 함 (사각형으로 표현)

특정 Entity의 정보를 속성(Atrribute)라 함 (원으로 표현)

Entity간 관계를 Relation이라 함 (마름모로 표현)



#### 식별자(Identifier)

Entity간 구별은 속성들 중 하나를 식별자로 사용한다
식별자는 id처럼 Entity마다 고유한 값이여야 한다 

후보키(candidate key) : 식별자의 후보들(고유한 속성들)

기본키(primary key) : 주로 식별자로 사용할 키

대체키(alternate key) : 기본키가 아닌 후보키



중복키 : 후보키가 없을 경우 여러 속성을 조합해 고유하도록 만든 키 (반 속성 + 번호 속성)



#### Cardinality 관계

1:1 : 그냥 작대기

1:N : -----<-

N:M   ->-------<-

- N:M은 테이블로 표현할 때 그대로 표현 불가, 연결 테이블로 1:N관계로 치환



#### Optionality 관계

관계할 수도 안 할 수도 있음
(유저가 댓글을 달 수도 안 달 수도 있음)

유저-----------O---댓글



반드시 관계해야함
(댓글은 항상 유저를 가져야한다)

유저─┼--------O---댓글



__유저와 댓글의 최종 관계__

유저 ─┼─────O<-댓글





### 관계형 데이터 모델링

엔티티가 테이블로 표현된다

FK : 관계를 가지는 엔티티의 식별자



1 : 1 : 종속성을 봐서 부모 자식 관계를 발견 후 자식에게 FK를 준다

1 : N : N쪽에 FK를 준다

M : N : 연결 테이블을 하나 만들고 양쪽의 식별자를 모두 FK로 가져온다 