# Shell Script Programming #1

### Shell 

명령어 라인을 대신하여 명령들의 모음과 처리과정을 파일로 작성한 것

__쉘__
Kernel과 사용자 사이의 인터페이스

__쉘의 기능__

1. 명령어 해석
2. 프로그래밍
3. 사용자 환경 설정

__쉘 종류__
/bin/sh
/bin/bash
/usr/bin/bash
/bin/rbash
/usr/bin/rbash
/bin/dash
/usr/bin/dash
/usr/bin/tmux
/usr/bin/screen



---

#! : 매직넘버, shbang(샤뱅) or hashbang
		지금부터 작성하는 명령을 실행할 인터프리터 설정

echo: 문자열 출력
		__$변수명__: 변수명 출력
		\`명령어\` <- 해당 명령어의 결과를 출력
		__$(명령어)__ <- 위와 동일
		예) echo "ABCD $LOGNAME \`uname -n\`" 
			-> 결과: ABCD jungwoo server
		__속성들__
				-n: 자동 개행 없음
				-e: escape 문자 출력

---

### 변수

전역 변수: 환경변수, 모든 쉘에서 사용하는 변수. env 또는 printenv로 모든 전역 변수 출력
지역 변수: 현재의 쉘에서만 사용. set ->환경 변수 포함 모든 변수들과 함수들 목록 출력

__변수 만들기__
관행 : 전역 변수 대문자, 지역 변수 소문자

```bash
변수명=값 # 변수명을 이름으로 하는 변수 생성, 값으로 초기화
export 변수명(=값) # 변수명을 이름으로 하는 전역 변수 생성 및 초기화 (단 초기화를 생략하면 기존이 있던 지역 변수를 전역화)
```

__배열 만들기__

```bash
declare -a 변수명; # 배열 선언
변수명=(값1 값2 값3 ...) # 변수 값 대입, 값들을 쉼표가 아닌 띄어쓰기로 구분
변수명[인덱스]=값 # 해당 인덱스의 값 대입

${arr[인덱스]} # 해당 인덱스의 값 읽기
${arr[*]} # 모든 값 읽기
${#arr[*]} # 배열 값의 갯수
```

__변수 삭제하기__

```bash
unset 변수명 # 해당 변수 삭제
```



---

### 특수 파라미터 변수

$1, $2, $N...
각 파라미터들

$#
총 파리미터 갯수

$@
아규먼트(모든 파라미터)의 내용들

$?
가장 최그에 실행된 명령의 종료상태

\$\$
현재 쉘의 프로세스 ID

$_
최근 실해ㅐㅇ된 명령의 마지막 아규먼트

$0
쉘 또는 쉘 스크립트의 이름

---

### 입력

read

| read 명령 옵션 | 의미 |
| -------------- | ---- |
| read 변수명                 | 표준 입력으로부터 한 라인을 읽고 읽은 내용을 변수에 담음     |
| read first변수명 last변수명 | 표준 입력으로부터 한 라인을 읽고 공백 또는 newline을 기준으로 첫 단어는 first변수명, 나머지는 last변수명 |
| read                        | 표준 입력으로 한 라인 읽고 전역 변수 REPLY 변수에 저장된다   |
| read -a array변수명         | white 문자로 구분된 단어들을 array변수명에 배열로 담는다     |
| read -s 변수명              | 시크릿 모드 문자를 입력할 때 표시하지 않는다                 |
| read -p prompt              | propmt를 출력하고 입력을 기다린다                            |
| read -t seconds             | 일정시간 후에 입력대기를 종료한다                            |

---

### 테스트

[ 테스트할 구문 ]으로 테스트를 진행한다
정상 종료면 0을 오류가 있으면 1을 리턴한다 (아무것도 출력하지 않고 리턴한다)

---

### 와일드카드

임의의  문자(열)에 대응시키기 위해 사용하는 문자
종류로는 *, ?, []이 있다
문자들이 인터프리터로 해석되지 않게 즉 순수 문자로 해석되게 하기 위해 따음표(', ")로 감싸준다

*: 모든 문자열
?: 모든 문자
[]: 표현식